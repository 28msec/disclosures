<ion-view title="Filter">
    <ion-content class="padding">
        <div class="card">
            <div class="item item-divider uppercase">
                Entities or Entity Group
            </div>
            <label class="item item-input">
                <input type="text" placeholder="Search for an entity or entity group" ng-change="searchEntity()" ng-model="filter.searchEntity">
            </label>
            <div class="item">
                <li class="item" ng-repeat="entity in entitiesCompletion">
                    <a ng-click="selectEntity(entity)" ng-bind="entity.name"></a>
                </li>
            </div>
            <div class="item item-text-wrap">
                <h2>Selected</h2>
                <ion-list show-delete="true">
                    <ion-item ng-repeat="entity in filter.entities">
                        {{entity.name}}
                        <ion-delete-button class="ion-minus-circled" ng-click="filter.entities.splice($index, 1)"></ion-delete-button>
                    </ion-item>
                </ion-list>
            </div>
            
            <div class="item item-divider uppercase">
                Entity Group
            </div>               
            <div class="item item-text-wrap">
               <ion-checkbox ng-repeat="tag in filterParameters.tags" ng-checked="isSelected(filter.tag, tag)" ng-click="toggleSelection(filter.tag, tag)">{{ tag }}</ion-checkbox>                            
            </div>
            
            
            <div class="item item-divider uppercase">
                Fiscal Period
            </div>               
            <div class="item item-text-wrap">
               <ion-checkbox ng-repeat="period in filterParameters.periods" ng-checked="isSelected(filter.fiscalPeriod, period)" ng-click="toggleSelection(filter.fiscalPeriod, period)">{{ period }}</ion-checkbox>                            
            </div>
            
             <div class="item item-divider uppercase">
                Fiscal Year
            </div>               
            <div class="item item-text-wrap">               
               <ion-checkbox ng-repeat="year in filterParameters.years" ng-checked="isSelected(filter.fiscalYear, year)" ng-click="toggleSelection(filter.fiscalYear, year)">{{ year }}</ion-checkbox>              
            </div>
            
        </div>
    </ion-content>
</ion-view>